{"version":3,"sources":["../src/resolveAll.js"],"names":["reactTreeWalker","PromiseComponent","visitor","before","after","element","instance","__promiseComponent","executePromise","then","_","Promise","resolve","resolveAll","app"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,mBAA5B;AACA,SAASC,gBAAT,QAAiC,WAAjC;;AAEA,SAASC,OAAT,OAAoC;AAAA,MAAjBC,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,KAAS,QAATA,KAAS;AAChC,SAAO,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAChC,QAAIA,QAAQ,IAAIA,QAAQ,CAACC,kBAAT,KAAgC,IAA5C,IAAoD,OAAOD,QAAQ,CAACE,cAAhB,KAAmC,UAA3F,EAAuG;AACnGL,MAAAA,MAAM,IAAIA,MAAM,CAACG,QAAD,CAAhB;AACA,aAAOA,QAAQ,CAACE,cAAT,GAA0BC,IAA1B,CAA+B,UAAAC,CAAC,EAAI;AACvCN,QAAAA,KAAK,IAAIA,KAAK,CAACM,CAAD,EAAIJ,QAAJ,CAAd;AACA,eAAO,IAAP;AACH,OAHM,CAAP;AAIH;;AACD,WAAOK,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACH,GATD;AAUH;;AAED,OAAO,SAASC,UAAT,CAAoBC,GAApB,EAAiD;AAAA,kFAAJ,EAAI;AAAA,MAAtBX,MAAsB,SAAtBA,MAAsB;AAAA,MAAdC,KAAc,SAAdA,KAAc;;AACpD,SAAOJ,eAAe,CAACc,GAAD,EAAMZ,OAAO,CAAC;AAAEC,IAAAA,MAAM,EAANA,MAAF;AAAUC,IAAAA,KAAK,EAALA;AAAV,GAAD,CAAb,CAAtB;AACH","sourcesContent":["import reactTreeWalker from 'react-tree-walker'\nimport { PromiseComponent } from './Promise'\n\nfunction visitor({ before, after }) {\n    return function (element, instance) {\n        if (instance && instance.__promiseComponent === true && typeof instance.executePromise === 'function') {\n            before && before(instance)\n            return instance.executePromise().then(_ => {\n                after && after(_, instance)\n                return true\n            })\n        }\n        return Promise.resolve(true)\n    }\n}\n\nexport function resolveAll(app, { before, after } = {}) {\n    return reactTreeWalker(app, visitor({ before, after }))\n}"],"file":"resolveAll.js"}