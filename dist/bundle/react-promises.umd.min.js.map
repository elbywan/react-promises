{"version":3,"file":"react-promises.umd.min.js","sources":["../../src/Promise.js","../../node_modules/react-tree-walker/dist/react-tree-walker.js","../../src/withPromise.js","../../src/resolveAll.js"],"sourcesContent":["import React, { Component } from 'react'\n\nexport class PromiseComponent extends Component {\n\n    constructor (props) {\n        super (props)\n        this.state = {\n            pending: true,\n            error: null,\n            result: null,\n            skipped: false\n        }\n        this.setInitialState(props)\n        this.__promiseComponent = true\n    }\n\n    componentDidMount () {\n        this.onInitAndUpdate()\n    }\n\n    componentWillUnmount () {\n        this.__unmounted = true\n    }\n\n    setState (...args) {\n        if(!this.__unmounted)\n            super.setState(...args)\n    }\n\n    componentDidUpdate (prevProps, prevState) {\n        if(prevProps !== this.props)\n            this.onInitAndUpdate()\n    }\n\n    onInitAndUpdate () {\n        if(!this.props.promise)Â {\n            throw new Error('Promise function is missing.')\n        }\n        if(!this.props.skip || (typeof this.props.skip === 'function' && !this.props.skip(this.props))) {\n            this.executePromise()\n        } else {\n            this.setState({Â pending: false, skipped: true })\n        }\n    }\n\n    setInitialState (props) {\n        const { initialValue, then } = props\n        if(!initialValue)\n            return\n        this.state.pending = false\n        if(typeof then === 'function') {\n            this.state.result = then(initialValue)\n        } else {\n            this.state.result = initialValue\n        }\n    }\n\n    executePromise (options = this.props, {Â mixin = false, replayed = false } = {}) {\n        const { promise, then } = this.props\n        const {Â pending, skipped } = this.state\n        if(!pending || skipped) {\n            this.setState({Â pending: true, skipped: false })\n        }\n        this._backedOptions = mixin ? {Â ...this._backedOptions, ...options } : options\n        return promise(mixin ? this._backedOptions : options, {Â replayed })\n            .then(result => {\n                if(typeof then === 'function') {\n                    result = then(result)\n                }\n                this.setState({ result, error: null, pending: false })\n                return result\n            })\n            .catch(error => {\n                this.setState({ error, result: null, pending: false })\n            })\n    }\n\n    render () {\n        const { pending } = this.state\n        const { render } = this.props\n\n        if(pending === null) {\n            return null\n        }\n\n        return render({\n            ...this.state,\n            replay: (options, mixin = true) => this.executePromise.bind(this)(options, {Â mixin, replayed: true })\n        })\n\n    }\n}\nPromiseComponent.displayName = 'PromiseComponent'","'use strict';\n\n/* eslint-disable no-console */\n\n// Inspired by the awesome work by the Apollo team: ðŸ˜˜\n// https://github.com/apollographql/react-apollo/blob/master/src/getDataFromTree.ts\n//\n// This version has been adapted to be Promise based and support native Preact.\n\nvar defaultOptions = {\n  componentWillUnmount: false\n};\n\nvar forwardRefSymbol = Symbol.for('react.forward_ref');\n\n// Lifted from https://github.com/sindresorhus/p-reduce\n// Thanks @sindresorhus! ðŸ™\nvar pReduce = function pReduce(iterable, reducer, initVal) {\n  return new Promise(function (resolve, reject) {\n    var iterator = iterable[Symbol.iterator]();\n    var i = 0;\n\n    var next = function next(total) {\n      var el = iterator.next();\n\n      if (el.done) {\n        resolve(total);\n        return;\n      }\n\n      Promise.all([total, el.value]).then(function (value) {\n        // eslint-disable-next-line no-plusplus\n        next(reducer(value[0], value[1], i++));\n      }).catch(reject);\n    };\n\n    next(initVal);\n  });\n};\n\n// Lifted from https://github.com/sindresorhus/p-map-series\n// Thanks @sindresorhus! ðŸ™\nvar pMapSeries = function pMapSeries(iterable, iterator) {\n  var ret = [];\n\n  return pReduce(iterable, function (a, b, i) {\n    return Promise.resolve(iterator(b, i)).then(function (val) {\n      ret.push(val);\n    });\n  }).then(function () {\n    return ret;\n  });\n};\n\nvar ensureChild = function ensureChild(child) {\n  return child && typeof child.render === 'function' ? ensureChild(child.render()) : child;\n};\n\n// Preact puts children directly on element, and React via props\nvar getChildren = function getChildren(element) {\n  return element.props && element.props.children ? element.props.children : element.children ? element.children : undefined;\n};\n\n// Preact uses \"nodeName\", React uses \"type\"\nvar getType = function getType(element) {\n  return element.type || element.nodeName;\n};\n\n// Preact uses \"attributes\", React uses \"props\"\nvar getProps = function getProps(element) {\n  return element.props || element.attributes;\n};\n\nvar isReactElement = function isReactElement(element) {\n  return !!getType(element);\n};\n\nvar isClassComponent = function isClassComponent(Comp) {\n  return Comp.prototype && (Comp.prototype.render || Comp.prototype.isReactComponent || Comp.prototype.isPureReactComponent);\n};\n\nvar isForwardRef = function isForwardRef(Comp) {\n  return Comp.type && Comp.type.$$typeof === forwardRefSymbol;\n};\n\nvar providesChildContext = function providesChildContext(instance) {\n  return !!instance.getChildContext;\n};\n\n// Recurse a React Element tree, running the provided visitor against each element.\n// If a visitor call returns `false` then we will not recurse into the respective\n// elements children.\nfunction reactTreeWalker(tree, visitor, context) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultOptions;\n\n  return new Promise(function (resolve, reject) {\n    var safeVisitor = function safeVisitor() {\n      try {\n        return visitor.apply(undefined, arguments);\n      } catch (err) {\n        reject(err);\n      }\n      return undefined;\n    };\n\n    var recursive = function recursive(currentElement, currentContext) {\n      if (Array.isArray(currentElement)) {\n        return Promise.all(currentElement.map(function (item) {\n          return recursive(item, currentContext);\n        }));\n      }\n\n      if (!currentElement) {\n        return Promise.resolve();\n      }\n\n      if (typeof currentElement === 'string' || typeof currentElement === 'number') {\n        // Just visit these, they are leaves so we don't keep traversing.\n        safeVisitor(currentElement, null, currentContext);\n        return Promise.resolve();\n      }\n\n      if (currentElement.type) {\n        if (currentElement.type._context) {\n          // eslint-disable-next-line no-param-reassign\n          currentElement.type._context._currentValue = currentElement.props.value;\n        }\n        if (currentElement.type.Provider && currentElement.type.Consumer) {\n          var el = currentElement.props.children(currentElement.type.Provider._context._currentValue);\n          return recursive(el, currentContext);\n        }\n      }\n\n      if (isReactElement(currentElement)) {\n        return new Promise(function (innerResolve) {\n          var visitCurrentElement = function visitCurrentElement(render, compInstance, elContext, childContext) {\n            return Promise.resolve(safeVisitor(currentElement, compInstance, elContext, childContext)).then(function (result) {\n              if (result !== false) {\n                // A false wasn't returned so we will attempt to visit the children\n                // for the current element.\n                var tempChildren = render();\n                var children = ensureChild(tempChildren);\n                if (children) {\n                  if (Array.isArray(children)) {\n                    // If its a react Children collection we need to breadth-first\n                    // traverse each of them, and pMapSeries allows us to do a\n                    // depth-first traversal that respects Promises. Thanks @sindresorhus!\n                    return pMapSeries(children, function (child) {\n                      return child ? recursive(child, childContext) : Promise.resolve();\n                    }).then(innerResolve, reject).catch(reject);\n                  }\n                  // Otherwise we pass the individual child to the next recursion.\n                  return recursive(children, childContext).then(innerResolve, reject).catch(reject);\n                }\n              }\n              return undefined;\n            }).catch(reject);\n          };\n\n          if (typeof getType(currentElement) === 'function' || isForwardRef(currentElement)) {\n            var Component = getType(currentElement);\n            var props = Object.assign({}, Component.defaultProps, getProps(currentElement),\n            // For Preact support so that the props get passed into render\n            // function.\n            {\n              children: getChildren(currentElement)\n            });\n            if (isForwardRef(currentElement)) {\n              visitCurrentElement(function () {\n                return currentElement.type.render(props);\n              }, null, currentContext, currentContext).then(innerResolve);\n            } else if (isClassComponent(Component)) {\n              // Class component\n              var instance = new Component(props, currentContext);\n\n              // In case the user doesn't pass these to super in the constructor\n              Object.defineProperty(instance, 'props', {\n                value: instance.props || props\n              });\n              instance.context = instance.context || currentContext;\n              // set the instance state to null (not undefined) if not set, to match React behaviour\n              instance.state = instance.state || null;\n\n              // Make the setState synchronous.\n              instance.setState = function (newState) {\n                if (typeof newState === 'function') {\n                  // eslint-disable-next-line no-param-reassign\n                  newState = newState(instance.state, instance.props, instance.context);\n                }\n                instance.state = Object.assign({}, instance.state, newState);\n              };\n\n              if (Component.getDerivedStateFromProps) {\n                var result = Component.getDerivedStateFromProps(instance.props, instance.state);\n                if (result !== null) {\n                  instance.state = Object.assign({}, instance.state, result);\n                }\n              } else if (instance.UNSAFE_componentWillMount) {\n                instance.UNSAFE_componentWillMount();\n              } else if (instance.componentWillMount) {\n                instance.componentWillMount();\n              }\n\n              var childContext = providesChildContext(instance) ? Object.assign({}, currentContext, instance.getChildContext()) : currentContext;\n\n              visitCurrentElement(\n              // Note: preact API also allows props and state to be referenced\n              // as arguments to the render func, so we pass them through\n              // here\n              function () {\n                return instance.render(instance.props, instance.state);\n              }, instance, currentContext, childContext).then(function () {\n                if (options.componentWillUnmount && instance.componentWillUnmount) {\n                  instance.componentWillUnmount();\n                }\n              }).then(innerResolve);\n            } else {\n              // Stateless Functional Component\n              visitCurrentElement(function () {\n                return Component(props, currentContext);\n              }, null, currentContext, currentContext).then(innerResolve);\n            }\n          } else {\n            // A basic element, such as a dom node, string, number etc.\n            visitCurrentElement(function () {\n              return getChildren(currentElement);\n            }, null, currentContext, currentContext).then(innerResolve);\n          }\n        });\n      }\n\n      // Portals\n      if (currentElement.containerInfo && currentElement.children && currentElement.children.props && Array.isArray(currentElement.children.props.children)) {\n        return Promise.all(currentElement.children.props.children.map(function (child) {\n          return recursive(child, currentContext);\n        }));\n      }\n\n      return Promise.resolve();\n    };\n\n    recursive(tree, context).then(resolve, reject);\n  });\n}\n\nmodule.exports = reactTreeWalker;\n//# sourceMappingURL=react-tree-walker.js.map\n","import React, { Component } from 'react'\nimport { PromiseComponent } from './Promise'\n\nexport function withPromise({\n    skip,\n    promise,\n    then,\n    props = _ => _\n}) {\n    return function (Component) {\n        return function (ownProps) {\n            const children = promiseProps => {\n                const mixedProps = {\n                    ...ownProps,\n                    ...props(promiseProps, ownProps)\n                }\n                return (\n                    <Component { ...mixedProps } />\n                )\n            }\n            return (\n                <PromiseComponent\n                    skip={skip}\n                    promise={promise}\n                    render={children}\n                    then={then}\n                    { ...ownProps }\n                />\n            )\n        }\n    }\n}","import reactTreeWalker from 'react-tree-walker'\nimport { PromiseComponent } from './Promise'\n\nfunction visitor({ before, after }) {\n    return function (element, instance) {\n        if (instance && instance.__promiseComponent === true && typeof instance.executePromise === 'function') {\n            before && before(instance)\n            return instance.executePromise().then(_ => {\n                after && after(_, instance)\n                return true\n            })\n        }\n        return Promise.resolve(true)\n    }\n}\n\nexport function resolveAll(app, {Â before, after } = {}) {\n    return reactTreeWalker(app, visitor({Â before, after }))\n}"],"names":["PromiseComponent","props","state","pending","error","result","skipped","setInitialState","__promiseComponent","Component","onInitAndUpdate","__unmounted","args","this","prevProps","prevState","promise","Error","skip","executePromise","setState","initialValue","then","options","mixin","replayed","_backedOptions","_this2","catch","render","replay","_this3","bind","defaultOptions","componentWillUnmount","displayName","forwardRefSymbol","Symbol","for","pMapSeries","iterable","iterator","reducer","initVal","ret","a","b","i","Promise","resolve","val","push","reject","next","total","el","done","all","value","getChildren","element","children","undefined","getType","type","nodeName","isForwardRef","Comp","$$typeof","tree","visitor","context","arguments","length","safeVisitor","apply","err","recursive","currentElement","currentContext","Array","isArray","map","item","_context","_currentValue","Provider","Consumer","innerResolve","visitCurrentElement","compInstance","elContext","childContext","ensureChild","child","Object","assign","defaultProps","attributes","prototype","isReactComponent","isPureReactComponent","instance","defineProperty","newState","getDerivedStateFromProps","UNSAFE_componentWillMount","componentWillMount","getChildContext","containerInfo","_","ownProps","React","promiseProps","mixedProps","app","before","after","reactTreeWalker"],"mappings":"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"}